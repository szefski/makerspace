<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <title>{{if .Title}}{{.Title}} - {{end}}Victoria Makerspace</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css">
</head>
<body{{if eq .Name "index"}} data-spy="scroll" data-target="#navbar"{{end}}>
    <div class="modal fade" id="signin" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Member sign in</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form class="modal-body" id="signin-form" action="/" method="post">
                    <div class="form-group input-group">
                        <span class="input-group-addon">@</span>
                        <input type="text" class="form-control" name="username" placeholder="Username" required>
                    </div>
                    <input type="password" class="form-group form-control" name="password" placeholder="Password" required>
                    <div class="float-left">
                        <label class="custom-control custom-checkbox">
                            <input type="checkbox" name="save_session" class="custom-control-input" checked>
                            <span class="custom-control-indicator"></span>
                            <span class="custom-control-description">Remember me</span>
                        </label>
                    </div>
                    <button type="submit" name="signin" value="true" class="float-right btn btn-primary">Sign in</button>
                </form>
            </div>
        </div>
    </div>
    <nav class="navbar navbar-toggleable-sm navbar-light fixed-top">
        <div class="container">
            <a class="navbar-toggler navbar-toggler-right nav-link glyphicons glyphicons-menu-hamburger" role="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"></a>
            <a class="navbar-brand" href="/">
                <img src="/logo-simple-text.svg" alt="Victoria Makerspace">
            </a>
            <ul class="collapse navbar-collapse navbar-nav justify-content-end" id="navbar">
                <li class="nav-item">
                    <a class="nav-link" href="{{if ne .Name "index"}}/{{end}}#shop-features"><span class="glyphicons glyphicons-hand-saw"></span> shop features</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href=""><span class="glyphicons glyphicons-book-open"></span> classes</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/talk"><span class="glyphicons glyphicons-conversation"></span> talk</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link{{if eq .Name "join"}} active{{end}}" href="/join"><span class="glyphicons glyphicons-user-add"></span> &nbsp;join</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="" data-toggle="modal" data-target="#signin"><span class="glyphicons glyphicons-user"></span> sign in</a>
                </li>
            </ul>
        </div>
    </nav>
{{if eq .Name "index"}}
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
            <div class="carousel-item active">
                <img class="first-slide" src="/carousel-1.jpg" alt="First slide">
                <div class="container">
                    <div class="carousel-caption d-none d-md-block text-left">
                        <h1>Get Involved!</h1>
                        <a class="btn btn-lg btn-primary" href="/join" role="button">Sign up</a>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <img class="second-slide" src="/carousel-2.jpg" alt="Second slide">
                <div class="container">
                    <div class="carousel-caption d-none d-md-block">
                        <h1>Working Together</h1>
                        <p>Our space is created, used and maintained by members. If we don't have something we need, we get together and make it happen. From a metal bandsaw to a CNC laser cutter, it's all members making it work.</p>
                    </div>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
{{end}}
    <div class="container">
{{if eq .Name "index"}}
        <div class="row">
            <div class="col-md-7">
                <h3>What is Makerspace?</h3>
                <p>Makerspace is a member-operated shared space where people come together and collaborate while sharing tools, resources and knowledge.  Members come from all different backgrounds and collectively bring vast amounts of knowledge and experience to the space.  To keep Makerspace functioning, all members share a responsibility to keep the space safe, tidy, and welcoming.  Makerspace members benefit from 24-hour access to a large assortment of equipment and tools.</p>
                <h3>How do I get involved?</h3>
                <p>The best way to start is to come to one of our open-house events on the 2nd and 4th Tuesday of each month, from 7 to 9pm.</p>
                <address>Find us at <a href="https://goo.gl/maps/e9HWSv2j3yk" target="_blank">4476 Markham St., Saanich, BC</a>.</address>
            </div>
            <iframe class="col-md-5" src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d25157.013276243564!2d-123.4270878263007!3d48.48903771117378!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x304fb4781cae8b2e!2sVictoria+Makerspace!5e0!3m2!1sen!2sus!4v1484528263037" frameborder="0" allowfullscreen></iframe>
        </div>
        <hr>
        <h2 id="shop-features">Shop features</h2>
        <div class="row shop-features">
            <div class="col-md-7 push-md-5">
                <h3>Electronics</h3>
                <p>Meters, oscilloscope, function generator, soldering stations, breadboards and prototyping tools, and bins full of hackable parts.</p>
            </div>
            <div class="col-md-5 pull-md-7">
                <img src="/shop-features-electronics.jpg">
            </div>
        </div>
        <div class="row shop-features">
            <div class="col-md-7">
                <h3>CNC</h3>
                <p>24"&times;60" CNC router, laser cutter/engravers, and 3D printers.</p>
            </div>
            <div class="col-md-5">
            </div>
        </div>
        <div class="row shop-features">
            <div class="col-md-7 push-md-5">
                <h3>Woodworking</h3>
                <p>Table saw, jointer, thickness planar, track saw, routers and router table, lathe, band saw, mitre saw, drill press, spindle sander, bench sander, and hand tools.</p>
            </div>
            <div class="col-md-5 pull-md-7">
                <img src="/shop-features-woodwork.jpg">
            </div>
        </div>
        <div class="row shop-features">
            <div class="col-md-7">
                <h3>Machining and welding</h3>
                <p>Mill, lathe, MIG welder, flux-core welder, band saw, chop saw, bench grinders, drill press, oxy-acetylene, 4' press brake/shear, and sand-blaster.</p>
            </div>
            <div class="col-md-5">
                <img src="/shop-features-metalwork.jpg">
            </div>
        </div>
{{end}}
{{if eq .Name "join"}}
       <h2>Join Makerspace</h2>
        <p>Open-house nights are on the 2nd and 4th Tuesday of each month, from 7 to 9pm.</p>
       <address>Find us at <a href="https://goo.gl/maps/e9HWSv2j3yk" target="_blank">4476 Markham St., Saanich, BC</a>.</address>
        <form id="join" method="post" action="/join">
            <div class="row">
                <div class="col-md-9 col-lg-7 col-xl-6">
                    <div class="form-group row">
                        <label for="username" class="col-sm-2 col-form-label">Username</label>
                        <div class="col-10">
                            <div class="input-group">
                                <span class="input-group-addon">@</span>
                                <input type="text" id="username" name="username" class="form-control" autofocus required>
                            </div>
                            <div class="form-control-feedback"></div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="email" class="col-sm-2 col-form-label">E-mail</label>
                        <div class="col-10">
                            <input type="email" class="form-control" id="email" name="email" required>
                            <div class="form-control-feedback"></div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="password" class="col-sm-2 col-form-label">Password</label>
                        <div class="col-10">
                            <input type="password" class="form-control" id="password" name="password" required>
                            <div class="form-control-feedback"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6 col-lg-4">
                    <fieldset class="form-group">
                        <legend>Membership rate</legend>
                        <div class="form-check">
                            <label class="custom-control custom-radio">
                                <input type="radio" name="rate" class="custom-control-input" value="regular" checked>
                                <span class="custom-control-indicator"></span>
                                <span class="custom-control-description"><b>Regular</b> ($50/month)</span>
                            </label>
                        </div>
                        <div class="form-check">
                            <label class="custom-control custom-radio">
                                <input type="radio" id="student-rate" name="rate" class="custom-control-input" value="student">
                                <span class="custom-control-indicator"></span>
                                <span class="custom-control-description"><b>Student</b> ($30/month)</span>
                            </label>
                        </div>
                    </fieldset>
                </div>
                <fieldset id="student" class="col-10 col-sm-6 col-xl-5 text-muted" disabled>
                    <legend>Student info</legend>
                    <div class="form-group">
                        <label for="institution" class="form-control-label">Institution name</label>
                        <input type="text" class="form-control" id="institution" name="institution">
                        <div class="form-control-feedback"></div>
                    </div>
                    <div class="form-group">
                        <label for="graduation" class="form-control-label">Expected graduation</label>
                        <input type="month" class="form-control" id="graduation" name="graduation">
                        <div class="form-control-feedback"></div>
                    </div>
                </fieldset>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
{{end}}
        <footer>
            <hr>
            <p class="float-right">&copy; 2017 Victoria Makerspace &middot; <a class="glyphicons-social glyphicons-social-gmail" href="mailto:admin@makerspace.ca" title="E-mail"></a> <a class="glyphicons-social glyphicons-social-twitter" href="https://twitter.com/VicMakerspace" title="Twitter"></a> <a class="glyphicons-social glyphicons-social-facebook" href="https://facebook.com/VicMakerspace" title="Facebook"></a></p>
        </footer>
    </div>

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
{{if eq .Name "join"}}
    <script>
        $("#join input[name=rate]").change(function() {
            var checked = $("#student-rate").prop("checked");
            $("#student").prop("disabled", !checked);
            $("#student").toggleClass("text-muted", !checked);
            $("#student input").prop("required", checked);
            if (!checked) {
                $("#student .form-group").removeClass("has-danger has-success").find(".form-control-feedback").text("").hide();
                $("#student .form-control").removeClass("form-control-danger form-control-success").val("");
            }
        });
        $("#join .form-control").focus(function() {
            $(this).parents(".form-group").removeClass("has-danger has-warning has-success").find(".form-control-feedback").text("").hide();
            $(this).removeClass("form-control-danger form-control-warning form-control-success");
        });
        var highlight = function(type, elem) {
            $(elem).addClass("form-control-" + type).parents(".form-group").addClass("has-" + type);
        };
        var show_message = function(elem, msg) {
            if (msg) $(elem).parents(".form-group").find(".form-control-feedback").text(msg).show();
        };
        var error_class = function(elem) {
            if (!elem.validity.valid) {
                if ($(elem).val()) return "warning";
                else return "danger";
            } else if ($(elem).val()) return "success";
        };
        var display_error = function(elem, msg, type = error_class(elem)) {
            highlight(type, elem);
            show_message(elem, msg);
        };
        var message = function(elem) {
            var id = $(elem).attr("id");
            if (elem.validity.valueMissing) {
                if (id == "username") return "Username cannot be blank.";
                if (id == "email") return "E-mail address cannot be blank.";
                if (id == "password") return "Password cannot be blank.";
                if (id == "institution") return "Institution name is a required field for student members.";
                if (id == "graduation") return "Please enter a valid graduation date.";
            }
        };
        var check_exists = function(elem, msg, taken_msg) {
            $.getJSON("/check?" + $(elem).attr("id") + "=" + $(elem).val()).done(function(data) {
                if (data) {
                    elem.setCustomValidity(taken_msg);
                    msg = taken_msg;
                } else elem.setCustomValidity("");
                display_error(elem, msg);
            });
        };
        $("#join .form-control").blur(function() {
            msg = message(this);
            if ($(this).is("#username"))
                check_exists(this, msg, "Username is already taken.");
            else if ($(this).is("#email")) {
                if (this.validity.typeMismatch) display_error(this, "Invalid e-mail address.");
                else check_exists(this, msg, "E-mail address is already in use.");
            } else display_error(this, msg);
        });
        $("#join [type=submit]").click(function() {
            $("#join .form-control:required").each(function() {
                var type = error_class(this);
                if (type != "success") display_error(this, message(this), type);
            });
        });
        
        $("#signin").on("shown.bs.modal", function() {
            $("#signin-form input[name=username]").focus();
        });
    </script>
{{end}}
</body>
</html>
