  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-10 col-lg-8 col-xl-7">
        <p class="alert alert-warning">
          The storage waitlist and registration forms are not currently implemented.  Please <span class="text-nowrap">e-mail</span> <a href="mailto:storage@makerspace.ca">storage@makerspace.ca</a> for information about storage availabilities.
        </p>
{{define "storage"}}
        <form action="/member/storage" method="post">
          <h5 class="mb-0">Wall storage</h5>
  {{with index .Data.wall_storage 0}}
    {{with index .Plan.Meta "notice"}}
          <small class="pl-sm-2 align-top text-muted">{{.}}</small>
    {{end}}
  {{end}}
          <table class="px-sm-2 table table-sm table-responsive text-nowrap text-center">
            <thead>
              <tr>
                <th>#</th>
                <th class="w-100">Owner</th>
                <th>Fee <span class="small text-muted">(monthly)</span></th>
                <th class="text-center">Waitlist</th>
              </tr>
            </thead>
            <tbody>
  {{range .Data.wall_storage}}
              <tr{{if not .Available}}
                  class="text-muted"
                {{else if .Member}}
                  {{if eq .Member.Id $.Member.Id}}
                  class="table-success"
                {{end}}{{end}}>
                <th scope="row">{{.Number}}</th>
                <td class="text-left">
    {{with .Member}}
                  <a href="/member/{{.Id}}">@{{.Username}}</a>
    {{else}}
                  <span class="ml-2">-</span>
    {{end}}
                </td>
                <td>
    {{if .Available}}
                  {{fmt_money (mul .Quantity .Plan.Amount)}}
    {{else}}
                  -
    {{end}}
                </td>
                <td>
    {{if not .Available}}
                  <small>Unavailable</small>
    {{else if not .Member}}
                  <button type="button" class="btn btn-sm btn-outline-info disabled" data-toggle="collapse" data-target="#storage-available-wall">Available</button>
    {{else if eq $.Member.Id .Member.Id}}
                  <a href="/member/billing#Payments" class="btn btn-sm btn-warning">Cancel</a>
    {{else}}
                  <button type="button" class="btn btn-sm btn-outline-secondary disabled" data-target="#storage-waitlist-wall">Waitlist</button>
    {{end}}
                </td>
              </tr>
  {{end}}
            </tbody>
          </table>
        </form>
{{end}}
{{template "storage" .}}
        <form action="/member/storage" method="post">
          <div class="row">
            <div class="col">
              <h5>Hall lockers</h5>
              <p>Fee: $5.00/month</p>
              <table class="table table-sm table-responsive">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Owner</th>
                    <th>Waitlist</th>
                  </tr>
                </thead>
                <tbody>
{{range .Data.hall_lockers}}
                  <tr{{if not .Available}}
                      class="text-muted"
                    {{else if .Member}}
                      {{if eq .Member.Id $.Member.Id}}
                      class="table-success"
                    {{- end}}{{end}}>
                    <th scope="row">{{.Number}}</th>
  {{- with .Member -}}
                    <td>
                      <a href="/member/{{.Id}}">@{{.Username}}</a>
                    </td>
  {{else}}
                    <td>-</td>
  {{- end}}
                    <td>
  {{if not .Available}}
                      <small>Unavailable</small>
  {{else if not .Member}}
                      <button type="button" class="btn btn-sm btn-outline-info disabled" data-toggle="collapse" data-target="#storage-available-locker">Available</button>
  {{else if eq .Member.Id $.Member.Id}}
                      <a href="/member/billing#Payments" class="btn btn-sm btn-warning">Cancel</a>
  {{else}}
                      <button type="button" class="btn btn-sm btn-outline-secondary disabled" data-target="#storage-waitlist-hall-locker">Waitlist</button>
  {{end -}}
                    </td>
                  </tr>
{{end}}
                </tbody>
              </table>
            </div>
            <div class="col">
              <h5 class="mb-0">Bathroom lockers</h5>
              <small class="align-top text-muted">Lockers 7 &amp; 8 are reserved for VITP cleaners</small>
              <p>Fee: $5.00/month</p>
              <table class="table table-sm table-responsive">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Owner</th>
                    <th>Waitlist</th>
                  </tr>
                </thead>
                <tbody>
                  {{range .Data.bathroom_lockers}}
                  <tr{{if not .Available}}
                      class="text-muted"
                    {{else if .Member}}
                      {{if eq .Member.Id $.Member.Id}}
                      class="table-success"
                    {{- end}}{{end}}>
                    <th scope="row">{{.Number}}</th>
  {{- with .Member -}}
                    <td>
                      <a href="/member/{{.Id}}">@{{.Username}}</a>
                    </td>
  {{else}}
                    <td>-</td>
                    {{- end}}
                    <td>
                      {{if not .Available}}
                      <small>Unavailable</small>
                      {{else if not .Member}}
                      <button type="button" class="btn btn-sm btn-outline-info disabled" data-toggle="collapse" data-target="#storage-available-bathroom-locker">Available</button>
                      {{else if eq .Member.Id $.Member.Id}}
                      <a href="/member/billing#Payments" class="btn btn-sm btn-warning">Cancel</a>
                      {{else}}
                      <button type="button" class="btn btn-sm btn-outline-secondary disabled" data-target="#storage-waitlist-bathroom-locker">Waitlist</button>
                      {{end -}}
                    </td>
                  </tr>
                  {{end}}
                </tbody>
              </table>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
